<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>D3</title>
    <!-- <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css"> -->
</head>

<body>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script>
        var dataset = [11, 25, 45, 30, 33];
        var w = 500;
        var h = 200;

        var xScale = d3.scale.linear()
                        .domain([0, d3.max(dataset)])
                        .range([0, w])
                        .nice();

        var svg = d3.select("body").append("svg").attr({
            width: w,
            height: h
        }); //({})この書き方がd3ver4だとできないので　v３にダウングレード

        svg.selectAll("rect")
          .data(dataset)
          .enter()
          .append("rect")
          .attr({
            x: 0,
            y: function(d, i){ return i * 25;},
            width: function(d) { return xScale(d); },
            height: 20,
            fill: "red"
          });
    </script>
</body>

</html>
